import { Request, Response } from 'express';
import Product, { IProduct } from '../models/Product';

// Get all products
export const getAllProducts = async (req: Request, res: Response) => {
  try {
    const products = await Product.find();
    res.json(products);
  } catch (error) {
    res.status(500).json({ message: 'Error fetching products', error });
  }
};

// Get products by category
export const getProductsByCategory = async (req: Request, res: Response) => {
  try {
    const { category } = req.params;
    const products = await Product.find({ category });
    res.json(products);
  } catch (error) {
    res.status(500).json({ message: 'Error fetching products by category', error });
  }
};

// Get single product by ID
export const getProductById = async (req: Request, res: Response) => {
  try {
    const { id } = req.params;
    const product = await Product.findOne({ id: parseInt(id as string) });
    
    if (!product) {
      return res.status(404).json({ message: 'Product not found' });
    }
    
    res.json(product);
  } catch (error) {
    res.status(500).json({ message: 'Error fetching product', error });
  }
};

// Create a new product
export const createProduct = async (req: Request, res: Response) => {
  try {
    const productData: IProduct = req.body;
    const newProduct = new Product(productData);
    await newProduct.save();
    res.status(201).json(newProduct);
  } catch (error) {
    res.status(400).json({ message: 'Error creating product', error });
  }
};

// Seed database with initial data
export const seedProducts = async (req: Request, res: Response) => {
  try {
    const allProducts = [
      // ---------------- MEN ----------------
      { id: 101, name: "Black Minimalist Hoodie", category: "men", price: "$150", image: "/Men_Hoodies_Collections/men1.jpg", heading: "Explore our Men Collection", description: "Premium black hoodie made from soft cotton blend, perfect for minimalist streetwear or casual layering. Cozy and durable for everyday use." },
      { id: 102, name: "Urban Streetwear Red Hoodie", category: "men", price: "$240", image: "/Men_Hoodies_Collections/men2.jpg", heading: "Explore our Men Collection", description: "Vibrant red urban hoodie with soft fabric for comfort and bold streetwear style. Ideal for city walks, casual outings, or making a fashion statement." },
      { id: 103, name: "Urban Streetwear Navy Hoodie", category: "men", price: "$140", image: "/Men_Hoodies_Collections/men3.jpg", heading: "Explore our Men Collection", description: "Comfortable navy hoodie designed for street style enthusiasts. Soft, breathable fabric with a relaxed fit for versatile casual wear." },
      { id: 104, name: "Forest Green Sporty Hoodie", category: "men", price: "$45", image: "/Men_Hoodies_Collections/men4.jpg", heading: "Explore our Men Collection", description: "Sporty forest green hoodie made for active lifestyles. Lightweight and flexible fabric ideal for workouts, outdoor activities, or casual streetwear." },
      { id: 105, name: "Charcoal Grey Casual Hoodie", category: "men", price: "$450", image: "/Men_Hoodies_Collections/men5.jpg", heading: "Explore our Men Collection", description: "Charcoal grey hoodie with soft premium fabric for casual sophistication. Perfect for commuting, lounging, or pairing with joggers." },
      { id: 106, name: "Olive Green Techwear Hoodie", category: "men", price: "$450", image: "/Men_Hoodies_Collections/men6.jpg", heading: "Explore our Men Collection", description: "Modern olive green techwear hoodie with sleek lines and functional pockets. Soft, durable fabric ideal for urban explorers and stylish layering." },
      { id: 107, name: "Red Urban Street Hoodie", category: "men", price: "$450", image: "/Men_Hoodies_Collections/men7.jpg", heading: "Explore our Men Collection", description: "Bold red hoodie with relaxed fit and soft fabric. Perfect for casual city walks, meetups, or energetic streetwear looks." },
      { id: 108, name: "Blue Gradient Hoodie", category: "men", price: "$450", image: "/Men_Hoodies_Collections/men8.jpg", heading: "Explore our Men Collection", description: "Blue gradient hoodie featuring a stylish fade effect. Comfortable cotton blend for layering or standalone urban style." },
      { id: 109, name: "Yellow Bold Logo Hoodie", category: "men", price: "$450", image: "/Men_Hoodies_Collections/men9.jpg", heading: "Explore our Men Collection", description: "Vibrant yellow hoodie with bold logo design. Soft, breathable, and perfect for casual streetwear or standing out in the crowd." },
      { id: 110, name: "Maroon Classic Hoodie", category: "men", price: "$450", image: "/Men_Hoodies_Collections/men10.jpg", heading: "Explore our Men Collection", description: "Classic maroon hoodie for everyday comfort. Premium cotton fabric, relaxed fit, ideal for casual outings or home lounging." },
      { id: 111, name: "White Clean Hoodie", category: "men", price: "$450", image: "/Men_Hoodies_Collections/men11.jpg", heading: "Explore our Men Collection", description: "Clean white hoodie with minimalist design. Soft cotton blend ensures comfort and versatile styling for layering or solo wear." },
      { id: 112, name: "Orange Vibrant Hoodie", category: "men", price: "$450", image: "/Men_Hoodies_Collections/men12.jpg", heading: "Explore our Men Collection", description: "Bright orange hoodie made with premium soft fabric. Perfect for casual wear, outdoor strolls, and adding energy to your outfit." },

      // ---------------- WOMEN ----------------
      { id: 201, name: "Soft Pink Aesthetic Hoodie", category: "women", price: "$50", image: "/Women_Hoodies_Collections/bg1.jpg", heading: "Explore our Women Collection", description: "Soft pink hoodie with cozy aesthetic. Ultra-soft fabric ensures comfort while maintaining stylish feminine appeal for casual outings or home lounging." },
      { id: 202, name: "White Clean Minimal Hoodie", category: "women", price: "$50", image: "/Women_Hoodies_Collections/bg2.jpg", heading: "Explore our Women Collection", description: "Minimalist white hoodie with clean lines. Soft cotton blend perfect for everyday casual wear, school, or coffee dates." },
      { id: 203, name: "Lavender Cozy Hoodie", category: "women", price: "$50", image: "/Women_Hoodies_Collections/bg3.jpg", heading: "Explore our Women Collection", description: "Lavender hoodie with plush, soft-touch fabric. Ideal for chilly mornings, casual walks, or lounging indoors." },
      { id: 204, name: "Black Elegant Fashion Hoodie", category: "women", price: "$50", image: "/Women_Hoodies_Collections/bg4.jpg", heading: "Explore our Women Collection", description: "Elegant black hoodie with refined style. Premium fabric offers warmth, comfort, and chic fashion layering options." },
      { id: 205, name: "Beige Neutral Hoodie", category: "women", price: "$50", image: "/Women_Hoodies_Collections/bg5.jpg", heading: "Explore our Women Collection", description: "Neutral beige hoodie with soft luxurious feel. Versatile piece for pairing with casual outfits, jeans, or skirts effortlessly." },
      { id: 206, name: "Sky Blue Casual Hoodie", category: "women", price: "$50", image: "/Women_Hoodies_Collections/bg6.jpg", heading: "Explore our Women Collection", description: "Sky blue hoodie providing a fresh, calming vibe. Premium soft fabric perfect for casual weekends, coffee dates, or cozy indoor lounging." },
      { id: 207, name: "Red Bold Vibrant Hoodie", category: "women", price: "$50", image: "/Women_Hoodies_Collections/bg7.jpg", heading: "Explore our Women Collection", description: "Bold red hoodie made for confident style. Soft, breathable material ensures comfort while making a fashion-forward statement." },
      { id: 208, name: "Purple Gradient Hoodie", category: "women", price: "$50", image: "/Women_Hoodies_Collections/bg8.jpg", heading: "Explore our Women Collection", description: "Purple gradient hoodie with a soft artistic design. Plush fabric provides warmth and comfort, perfect for casual or lounge wear." },
      { id: 209, name: "Brown Coffee-Tone Hoodie", category: "women", price: "$50", image: "/Women_Hoodies_Collections/bg9.jpg", heading: "Explore our Women Collection", description: "Warm coffee-tone hoodie with soft premium fabric. Versatile shade pairs effortlessly with casual outfits for cozy elegance." },
      { id: 210, name: "White & Black Contrast Hoodie", category: "women", price: "$50", image: "/Women_Hoodies_Collections/bg10.jpg", heading: "Explore our Women Collection", description: "Stylish contrast hoodie with black and white tones. Soft material ensures comfort while making a modern statement in casual wear." },
      { id: 211, name: "Retro 90s Color Splash Hoodie", category: "women", price: "$50", image: "/Women_Hoodies_Collections/bg11.jpg", heading: "Explore our Women Collection", description: "Retro 90s-inspired hoodie with colorful splash pattern. Ideal for streetwear fashion, weekend outings, and nostalgic bold style." },
      { id: 212, name: "90s Neon Street Hoodie", category: "women", price: "$50", image: "/Women_Hoodies_Collections/bg12.jpg", heading: "Explore our Women Collection", description: "Neon 90s hoodie with bold streetwear design. Soft, comfortable material pairs with urban casual outfits effortlessly." },

      // ---------------- UNISEX ----------------
      { id: 301, name: "Minimalist Unisex Black Hoodie", category: "unisex", price: "$48", image: "/Unisex_Hoodies_Collections/bg1.jpg", heading: "Explore our Unisex Collection", description: "Universal black hoodie with minimalist design suitable for all genders. Soft cotton blend ensures comfort for streetwear, casual, or layered looks." },
      { id: 302, name: "Blue Urban Unisex Hoodie", category: "unisex", price: "$48", image: "/Unisex_Hoodies_Collections/bg10.jpg", heading: "Explore our Unisex Collection", description: "Blue unisex hoodie with urban streetwear vibe. Premium fabric provides comfort and durability while making a versatile style statement." },
      { id: 303, name: "Futuristic Techwear Hoodie", category: "unisex", price: "$48", image: "/Unisex_Hoodies_Collections/bg3.jpg", heading: "Explore our Unisex Collection", description: "Futuristic techwear-inspired hoodie featuring sleek design, functional details, and soft breathable fabric for everyday comfort." },
      { id: 304, name: "Gradient Colorflow Hoodie", category: "unisex", price: "$48", image: "/Unisex_Hoodies_Collections/bg4.jpg", heading: "Explore our Unisex Collection", description: "Gradient color hoodie with smooth fade and modern aesthetic. Premium cotton blend offers cozy fit and stylish streetwear appeal." },
      { id: 305, name: "Retro Street Graphic Hoodie", category: "unisex", price: "$48", image: "/Unisex_Hoodies_Collections/bg5.jpg", heading: "Explore our Unisex Collection", description: "Retro graphic hoodie with bold streetwear style. Soft fabric ensures comfort while making a fashion-forward casual statement." },
      { id: 306, name: "Classic White Clean Hoodie", category: "unisex", price: "$48", image: "/Unisex_Hoodies_Collections/bg6.jpg", heading: "Explore our Unisex Collection", description: "Clean white hoodie with timeless minimalist appeal. Ultra-soft material perfect for everyday wear and casual layering." },
      { id: 307, name: "Dual-Tone White Hoodie", category: "unisex", price: "$48", image: "/Unisex_Hoodies_Collections/bg7.jpg", heading: "Explore our Unisex Collection", description: "Dual-tone hoodie combining style and comfort. Soft cotton blend provides relaxed fit suitable for streetwear or casual outfits." },
      { id: 308, name: "Urban Camouflage Hoodie", category: "unisex", price: "$48", image: "/Unisex_Hoodies_Collections/bg8.jpg", heading: "Explore our Unisex Collection", description: "Camouflage hoodie with urban edge. Comfortable fabric and modern design perfect for layering or casual streetwear style." },
      { id: 309, name: "Rainbow Swirl Hoodie â€“ HoodAnix", category: "unisex", price: "$48", image: "/Unisex_Hoodies_Collections/bg9.jpg", heading: "Explore our Unisex Collection", description: "Colorful rainbow swirl hoodie with unique design. Soft fabric ensures comfort while standing out in casual or streetwear fashion." },
      { id: 310, name: "Oversized Urban Street Hoodie", category: "unisex", price: "$48", image: "/Unisex_Hoodies_Collections/bg2.jpg", heading: "Explore our Unisex Collection", description: "Oversized street hoodie with urban edge. Cozy and relaxed fit ideal for casual hangouts, layering, or street style statement." },
      { id: 311, name: "Premium Velvet Texture Hoodie", category: "unisex", price: "$48", image: "/Unisex_Hoodies_Collections/bg11.jpg", heading: "Explore our Unisex Collection", description: "Velvet-textured hoodie combining softness and luxury. Comfortable and stylish piece suitable for premium casual or evening streetwear." },
      { id: 312, name: "Two-Tone Split Hoodie", category: "unisex", price: "$48", image: "/Unisex_Hoodies_Collections/bg12.jpg", heading: "Explore our Unisex Collection", description: "Two-tone split hoodie with modern design. Soft premium fabric ensures comfort while maintaining a bold streetwear aesthetic." },

      // ---------------- NEW_ARRIVALS ----------------
      { id: 314, name: "Urban Red Streetwear Hoodie", category: "new-arrivals", price: "$48", image: "/New_Arrivals_Hoodies_Collections/bg2.jpg", heading: "Explore our new-arrivals Collection", description: "Vibrant red streetwear hoodie with soft fabric and modern design. Ideal for city outings, casual layering, or making a bold fashion statement." },
      { id: 315, name: "Navy Blue Classic Hoodie", category: "new-arrivals", price: "$48", image: "/New_Arrivals_Hoodies_Collections/bg3.jpg", heading: "Explore our new-arrivals Collection", description: "Classic navy hoodie with timeless style. Soft cotton blend ensures comfort and versatility for daily wear or casual outdoor activities." },
      { id: 316, name: "Forest Green Sporty Hoodie", category: "new-arrivals", price: "$48", image: "/New_Arrivals_Hoodies_Collections/bg4.jpg", heading: "Explore our new-arrivals Collection", description: "Sporty forest green hoodie made for active lifestyles. Lightweight, breathable fabric perfect for workouts or casual streetwear." },
      { id: 317, name: "Grey Casual Everyday Hoodie", category: "new-arrivals", price: "$48", image: "/New_Arrivals_Hoodies_Collections/bg5.jpg", heading: "Explore our new-arrivals Collection", description: "Soft grey hoodie with casual everyday appeal. Cozy cotton blend suitable for layering, lounging, or outdoor casual looks." },
      { id: 318, name: "Orange Aesthetic Hoodie", category: "new-arrivals", price: "$48", image: "/New_Arrivals_Hoodies_Collections/bg6.jpg", heading: "Explore our new-arrivals Collection", description: "Bright orange hoodie with aesthetic appeal. Comfortable, soft fabric ideal for casual streetwear or energetic outings." },
      { id: 319, name: "White Minimal Clean Hoodie", category: "new-arrivals", price: "$48", image: "/New_Arrivals_Hoodies_Collections/bg7.jpg", heading: "Explore our new-arrivals Collection", description: "Clean white hoodie with minimalist design. Premium soft fabric ensures comfort for casual wear, layering, or relaxed home style." },
      { id: 320, name: "Purple Gradient Hoodie", category: "new-arrivals", price: "$48", image: "/New_Arrivals_Hoodies_Collections/bg8.jpg", heading: "Explore our new-arrivals Collection", description: "Purple gradient hoodie with smooth fade effect. Soft, breathable fabric offers cozy comfort while adding a touch of modern style." },
      { id: 321, name: "Yellow Bold Statement Hoodie", category: "new-arrivals", price: "$48", image: "/New_Arrivals_Hoodies_Collections/bg9.jpg", heading: "Explore our new-arrivals Collection", description: "Bright yellow hoodie designed to make a statement. Soft cotton blend offers comfort and bold urban fashion appeal." },
      { id: 322, name: "Black Techwear Hoodie", category: "new-arrivals", price: "$48", image: "/New_Arrivals_Hoodies_Collections/bg10.jpg", heading: "Explore our new-arrivals Collection", description: "Techwear-inspired black hoodie with sleek lines and functional pockets. Premium fabric ensures comfort and modern streetwear style." },
      { id: 323, name: "Sky Blue Cozy Hoodie", category: "new-arrivals", price: "$48", image: "/New_Arrivals_Hoodies_Collections/bg11.jpg", heading: "Explore our new-arrivals Collection", description: "Sky blue hoodie with soft plush fabric. Ideal for chilly mornings, casual outings, or cozy home wear." },
      { id: 324, name: "Brown Coffee Tone Hoodie", category: "new-arrivals", price: "$48", image: "/New_Arrivals_Hoodies_Collections/bg12.jpg", heading: "Explore our new-arrivals Collection", description: "Warm brown coffee-tone hoodie made with soft premium fabric. Perfect for casual layering, streetwear fashion, or cozy lounging." },

      // ---------------- LIMITED-EDITION ----------------
      { id: 325, name: "HoodAnix Limited White Hoodie", category: "limited-edition", price: "$48", image: "/Limited_edition_Hoodies_Collections/bg1.jpg", heading: "Explore our limited-edition Collection", description: "Exclusive limited-edition white hoodie from HoodAnix. Ultra-soft fabric with subtle premium stitching, perfect for collectors and style enthusiasts." },
      { id: 326, name: "HoodAnix Limited Black Hoodie", category: "limited-edition", price: "$48", image: "/Limited_edition_Hoodies_Collections/bg2.jpg", heading: "Explore our limited-edition Collection", description: "Sleek black limited-edition hoodie with high-quality finish. Cozy, soft, and designed for urban streetwear with a premium feel." },
      { id: 327, name: "HoodAnix Limited Grey Hoodie", category: "limited-edition", price: "$48", image: "/Limited_edition_Hoodies_Collections/bg3.jpg", heading: "Explore our limited-edition Collection", description: "Elegant grey limited-edition hoodie featuring unique HoodAnix branding. Soft cotton blend ensures comfort with a luxury look." },
      { id: 328, name: "HoodAnix Limited Navy Hoodie", category: "limited-edition", price: "$48", image: "/Limited_edition_Hoodies_Collections/bg4.jpg", heading: "Explore our limited-edition Collection", description: "Deep navy limited-edition hoodie with premium stitching and soft material. Perfect for collectors and fashion-conscious streetwear fans." },
      { id: 329, name: "HoodAnix Limited Olive Hoodie", category: "limited-edition", price: "$48", image: "/Limited_edition_Hoodies_Collections/bg5.jpg", heading: "Explore our limited-edition Collection", description: "Exclusive olive-toned limited hoodie from HoodAnix. Comfortable, soft, and perfect for standout casual or streetwear style." },
      { id: 330, name: "HoodAnix Limited Red Hoodie", category: "limited-edition", price: "$48", image: "/Limited_edition_Hoodies_Collections/bg6.jpg", heading: "Explore our limited-edition Collection", description: "Bold red limited-edition hoodie with subtle HoodAnix detailing. Soft premium fabric ideal for statement streetwear looks." },
      { id: 331, name: "HoodAnix Limited Orange Hoodie", category: "limited-edition", price: "$48", image: "/Limited_edition_Hoodies_Collections/bg7.jpg", heading: "Explore our limited-edition Collection", description: "Vibrant orange hoodie made for limited collection fans. Cozy cotton blend ensures comfort and stylish urban appeal." },
      { id: 332, name: "HoodAnix Limited Purple Hoodie", category: "limited-edition", price: "$48", image: "/Limited_edition_Hoodies_Collections/bg8.jpg", heading: "Explore our limited-edition Collection", description: "Unique purple limited hoodie with a gradient touch. Soft, premium fabric designed for casual and fashionable layering." },
      { id: 333, name: "HoodAnix Limited Yellow Hoodie", category: "limited-edition", price: "$48", image: "/Limited_edition_Hoodies_Collections/bg9.jpg", heading: "Explore our limited-edition Collection", description: "Bright yellow limited-edition hoodie with cozy feel. Perfect for streetwear enthusiasts who love bold, premium designs." },
      { id: 334, name: "HoodAnix Limited Gradient Hoodie", category: "limited-edition", price: "$48", image: "/Limited_edition_Hoodies_Collections/bg10.jpg", heading: "Explore our limited-edition Collection", description: "Gradient limited hoodie with soft, premium cotton blend. A must-have collector piece for fashion-forward casual wear." },
      { id: 335, name: "HoodAnix Limited Teal Hoodie", category: "limited-edition", price: "$48", image: "/Limited_edition_Hoodies_Collections/bg11.jpg", heading: "Explore our limited-edition Collection", description: "Teal limited hoodie with stylish HoodAnix branding. Soft fabric ensures comfort while maintaining a unique limited-edition look." },
    ];
    
    await Product.deleteMany({}); // Clear existing
    await Product.insertMany(allProducts);
    
    res.json({ message: 'Database seeded successfully', count: allProducts.length });
  } catch (error) {
    res.status(500).json({ message: 'Error seeding database', error });
  }
};